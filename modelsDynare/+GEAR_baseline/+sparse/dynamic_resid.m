function [residual, T_order, T] = dynamic_resid(y, x, params, steady_state, T_order, T)
if nargin < 6
    T_order = -1;
    T = NaN(172, 1);
end
[T_order, T] = GEAR_baseline.sparse.dynamic_resid_tt(y, x, params, steady_state, T_order, T);
residual = NaN(215, 1);
    residual(1) = (y(238)*y(527)) - (params(5)*exp(y(363))*(1+y(216))*y(453));
    residual(2) = (y(239)*y(528)) - (exp(y(363))*params(6)*(1+y(217))*y(454));
    residual(3) = (y(238)*y(527)) - (y(453)*params(5)*(1+y(219)));
    residual(4) = (y(239)*y(528)) - (y(454)*params(6)*(1+y(220)));
    residual(5) = (y(238)) - (T(2)/(1+y(278)));
    residual(6) = (y(239)) - (T(4)/(1+y(279)));
    residual(7) = (y(240)) - (T(5)/(1+y(278)));
    residual(8) = (y(241)) - (T(6)/(1+y(279)));
    residual(9) = (y(238)*((1-y(274))*(y(248)*y(244)+y(250)*y(246))+params(100)*(y(266)-y(242)))) - (y(242)*y(302)*T(7)*T(8));
    residual(10) = (y(239)*((1-y(275))*(y(249)*y(245)+y(251)*y(247))+params(101)*(y(267)-y(243)))) - (y(243)*y(303)*T(9)*T(10));
    residual(11) = (y(240)*((1-y(274))*(y(248)*y(244)+y(250)*y(246))+params(100)*(y(268)-y(242)))) - (y(242)*y(302)*T(7)*T(11));
    residual(12) = (y(241)*((1-y(275))*(y(249)*y(245)+y(251)*y(247))+params(101)*(y(269)-y(243)))) - (y(243)*y(303)*T(9)*T(12));
    residual(13) = (y(264)) - (y(268)*params(1)+y(266)*(1-params(1)));
    residual(14) = (y(265)) - (y(269)*params(2)+y(267)*(1-params(2)));
    residual(15) = (y(302)) - (params(19)*(y(264)/params(282))^params(17));
    residual(16) = (y(303)) - (params(20)*(y(265)/params(283))^params(18));
    residual(17) = (y(270)) - ((y(264)-y(242))/y(264));
    residual(18) = (y(271)) - ((y(265)-y(243))/y(265));
    residual(19) = (y(242)) - (y(244)+y(246));
    residual(20) = (y(243)) - (y(245)+y(247));
    residual(21) = (y(300)) - (y(248)/y(33)*y(312));
    residual(22) = (y(301)) - (y(249)/y(34)*y(313));
    residual(23) = (T(13)*T(18)-T(14)*(y(238)*y(296)+y(240)*y(298))+T(1)*T(7)*y(302)*y(355)*y(244)*T(11)*y(298)/y(248)+T(1)*T(7)*y(302)*y(355)*y(244)*T(8)*y(296)/y(248)) - (T(1)*T(7)*y(244)*T(21)/y(248)+params(106)*params(5)*(params(1)*y(455)+y(453)*(1-params(1)))*T(23)*T(24)/(y(527)*T(16)));
    residual(24) = (T(25)*T(30)-T(26)*(y(239)*y(297)+y(241)*y(299))+T(3)*T(9)*y(303)*y(356)*y(245)*T(12)*y(299)/y(249)+T(3)*T(9)*y(303)*y(356)*y(245)*T(10)*y(297)/y(249)) - (T(3)*T(9)*y(245)*T(33)/y(249)+T(37)/(y(528)*T(34)));
    residual(25) = (params(100)*y(240)*params(1)) - (y(298)*(y(240)*params(100)-y(302)*y(242)*T(38)));
    residual(26) = (params(101)*y(241)*params(2)) - (y(299)*(y(241)*params(101)-y(303)*y(243)*T(39)));
    residual(27) = (params(100)*y(238)*(1-params(1))) - (y(296)*(y(238)*params(100)-y(302)*y(242)*T(40)));
    residual(28) = (params(101)*y(239)*(1-params(2))) - (y(297)*(y(239)*params(101)-y(303)*y(243)*T(41)));
    residual(29) = (log(T(42))) - (params(56)*log(T(43))-params(138)*T(45)-params(140)*T(47)+params(170)*x(15)+(1-params(170))*y(198));
    residual(30) = (log(T(48))) - (params(57)*log(T(49))-params(139)*T(51)-params(141)*T(53)+params(180)*x(16)+(1-params(180))*y(199));
    residual(31) = (log(T(54))) - (params(92)*log(T(55))-T(45)*params(152)-T(47)*params(154)+params(171)*x(25)+(1-params(171))*y(200));
    residual(32) = (log(T(56))) - (params(93)*log(T(57))-T(51)*params(153)-T(53)*params(155)+params(181)*x(26)+(1-params(181))*y(201));
    residual(33) = (log(T(58))) - (params(58)*log(T(59))-T(45)*params(142)-T(47)*params(144)+params(172)*x(29)+(1-params(172))*y(202));
    residual(34) = (log(T(60))) - (params(59)*log(T(61))-T(51)*params(143)-T(53)*params(145)+params(182)*x(30)+(1-params(182))*y(203));
    residual(35) = ((y(286)-params(299))/params(239)) - (params(60)*(y(71)-params(299))/params(239)+T(45)*params(146)+T(47)*params(148)+params(173)*x(31)+(1-params(173))*y(204));
    residual(36) = ((y(287)-params(300))/params(240)) - (params(61)*(y(72)-params(300))/params(240)+T(51)*params(147)+T(53)*params(149)+params(183)*x(32)+(1-params(183))*y(205));
    residual(37) = (y(274)-params(213)) - (params(84)*(y(59)-params(213))+T(45)*params(122)+T(47)*params(124)+params(174)*x(19)+(1-params(174))*y(206));
    residual(38) = (y(275)-params(214)) - (params(85)*(y(60)-params(214))+T(51)*params(123)+T(53)*params(125)+params(184)*x(20)+(1-params(184))*y(207));
    residual(39) = (y(276)-params(215)) - (params(86)*(y(61)-params(215))+T(45)*params(126)+T(47)*params(128)+params(175)*x(21)+(1-params(175))*y(208));
    residual(40) = (y(277)) - (params(216)+params(87)*(y(62)-params(216))+T(51)*params(127)+T(53)*params(129)+params(185)*x(22)+(1-params(185))*y(209));
    residual(41) = (y(278)) - (params(219)+params(90)*(y(63)-params(219))+T(45)*params(134)+T(47)*params(136)+params(176)*x(23)+(1-params(176))*y(210));
    residual(42) = (y(279)) - (params(220)+params(91)*(y(64)-params(220))+T(51)*params(135)+T(53)*params(137)+params(186)*x(24)+(1-params(186))*y(211));
    residual(43) = (y(246)) - (params(260)+params(94)*(y(31)-params(260))-T(45)*params(156)+T(47)*params(158)+params(178)*x(27)+(1-params(178))*y(212));
    residual(44) = (y(247)) - (params(261)+params(95)*(y(32)-params(261))-T(51)*params(157)+T(53)*params(159)+params(188)*x(28)+(1-params(188))*y(213));
    residual(45) = (y(284)) - (params(1)*y(280)+(1-params(1))*y(282));
    residual(46) = (y(285)) - ((1-params(2))*y(283)+params(2)*y(281));
    residual(47) = (params(3)*(y(282)/params(295)-1)) - ((1-params(3))*(y(280)/params(293)-1));
    residual(48) = (params(4)*(y(283)/params(296)-1)) - ((1-params(4))*(y(281)/params(294)-1));
    residual(49) = (y(284)+y(272)*y(304)+params(100)*((y(268)-y(242))*params(1)+(y(266)-y(242))*(1-params(1)))+y(292)*y(304)+y(246)*y(250)*(1+y(276))+y(73)*(1+y(4))/y(312)) - (y(288)+(y(248)*y(244)+y(250)*y(246))*(y(274)+y(276))+params(217)*(y(258)-params(7))*y(37)+y(304)*params(211)*exp(y(365))*y(225)+y(278)*y(228)+(1-params(1))*y(286));
    residual(50) = (y(285)+y(273)*y(307)+params(101)*((y(269)-y(243))*params(2)+(y(267)-y(243))*(1-params(2)))+y(293)*y(307)+y(247)*y(251)*(1+y(277))+y(74)*(1+y(5))/y(313)) - (y(289)+(y(249)*y(245)+y(251)*y(247))*(y(275)+y(277))+params(218)*(y(259)-params(8))*y(38)+y(307)*params(212)*exp(y(366))*y(226)+y(279)*y(229)+(1-params(2))*y(287));
    residual(51) = (y(290)) - (y(292)+(1-params(7))*y(75));
    residual(52) = (y(291)) - (y(293)+(1-params(8))*y(76));
    residual(53) = (y(294)) - (T(62)*T(63));
    residual(54) = (y(295)) - (T(64)*T(65));
    residual(55) = (log(T(66))) - (params(62)*log(T(67))-T(45)*params(150)+T(47)*params(160)+params(179)*x(33)+(1-params(179))*y(214));
    residual(56) = (log(T(68))) - (params(63)*log(T(69))-T(51)*params(151)+T(53)*params(161)+params(189)*x(34)+(1-params(189))*y(215));
    residual(57) = (y(225)) - (T(71)*T(72)-params(98));
    residual(58) = (y(226)) - (T(74)*T(75)-params(99));
    residual(59) = (y(258)) - (y(294)*T(76)*T(78));
    residual(60) = (y(259)) - (y(295)*T(79)*T(81));
    residual(61) = (y(248)*(1+y(276))) - (y(294)*T(82)*T(83)-y(248)*(1+y(276))*params(108)*(y(244)-y(29))+params(5)*params(108)*T(85)*(y(459)-y(244)));
    residual(62) = (y(249)*(1+y(277))) - (y(295)*T(86)*T(87)-y(249)*(1+y(277))*params(109)*(y(245)-y(30))+params(6)*params(109)*T(89)*(y(460)-y(245)));
    residual(63) = (y(254)) - ((1-params(7))*y(39)+(y(236)-y(236)*T(92))*exp(y(361)));
    residual(64) = (y(255)) - ((1-params(8))*y(40)+(y(237)-y(237)*T(95))*exp(y(362)));
    residual(65) = (1) - (T(97)*(1+y(477)));
    residual(66) = (1) - (T(99)*(1+y(478)));
    residual(67) = (y(262)) - (y(312)*((1-params(7))*y(260)+y(258)*(1-params(217))+params(217)*params(7))/y(45)-1);
    residual(68) = (y(263)) - (y(313)*((1-params(8))*y(261)+y(259)*(1-params(218))+params(218)*params(8))/y(46)-1);
    residual(69) = (1) - (exp(y(361))*y(260)*(1-T(92)-T(91)*T(100))+T(96)*y(475)*T(103)*exp(y(576)));
    residual(70) = (1) - (exp(y(362))*y(261)*(1-T(95)-T(94)*T(104))+T(98)*y(476)*T(107)*exp(y(577)));
    residual(71) = (1-y(353)+y(256)*y(353)*T(108)+params(5)*T(117)/y(225)/T(111)) - (T(119)/T(118));
    residual(72) = (1-y(354)+y(257)*y(354)*T(120)+params(6)*T(129)/y(226)/T(123)) - (T(131)/T(130));
    residual(73) = (y(305)) - (y(304)*y(335));
    residual(74) = (y(308)) - (y(307)*1/y(335));
    residual(75) = (y(306)) - (y(304)*y(336));
    residual(76) = (y(309)) - (y(307)*y(336)/y(335));
    residual(77) = (1) - (params(44)*y(304)^(1-params(41))+params(45)*y(308)^(1-params(41))+params(46)*y(310)^(1-params(41)));
    residual(78) = (1) - (params(47)*y(307)^(1-params(42))+params(48)*y(305)^(1-params(42))+params(49)*y(311)^(1-params(42)));
    residual(79) = (y(312)) - (T(132)^(1/(1-params(41))));
    residual(80) = (y(313)) - (T(133)^(1/(1-params(42))));
    residual(81) = (y(321)) - (params(1)*y(232)*T(135)+(1-params(1))*y(230)*T(135));
    residual(82) = (y(323)) - (params(2)*y(233)*T(136)+(1-params(2))*y(231)*T(136));
    residual(83) = (y(327)) - (y(236)*T(134)*(1-params(1))*params(44));
    residual(84) = (y(329)) - ((1-params(2))*y(237)*T(136));
    residual(85) = (y(324)) - ((y(232)*params(1)*params(45)*T(137)+y(230)*T(137)*(1-params(1))*params(45))*exp(y(369)));
    residual(86) = (y(322)) - ((y(233)*params(2)*params(48)*T(138)+y(231)*T(138)*(1-params(2))*params(48))*exp(y(370)));
    residual(87) = (y(330)) - (exp(y(369))*y(236)*T(137)*(1-params(1))*params(45));
    residual(88) = (y(328)) - (exp(y(370))*y(237)*T(138)*(1-params(2))*params(48));
    residual(89) = (y(325)) - (y(232)*params(1)*params(46)*T(139)+y(230)*T(139)*(1-params(1))*params(46));
    residual(90) = (y(326)) - (y(233)*params(2)*params(49)*T(140)+y(231)*T(140)*(1-params(2))*params(49));
    residual(91) = (y(331)) - (y(236)*T(139)*(1-params(1))*params(46));
    residual(92) = (y(332)) - (y(237)*T(140)*(1-params(2))*params(49));
    residual(93) = ((1+y(278))*y(232)) - ((1-y(274))*(y(248)*y(244)+y(250)*y(246))+params(100)*(y(268)-y(242))+y(280));
    residual(94) = ((1+y(279))*y(233)) - ((1-y(275))*(y(249)*y(245)+y(251)*y(247))+params(101)*(y(269)-y(243))+y(281));
    residual(95) = (y(228)) - (y(232)*params(1)+y(230)*(1-params(1)));
    residual(96) = (y(229)) - (y(233)*params(2)+y(231)*(1-params(2)));
    residual(97) = (y(252)) - ((1-params(1))*y(254));
    residual(98) = (y(253)) - ((1-params(2))*y(255));
    residual(99) = (y(234)) - ((1-params(1))*y(236));
    residual(100) = (y(235)) - ((1-params(2))*y(237));
    residual(101) = (y(225)) - (y(292)+y(272)+y(321)+y(327)+T(141)*(y(322)+y(328))+T(142)*(T(143)*params(231)*y(227)+y(227)*T(143)*params(232)));
    residual(102) = (y(226)) - (y(293)+y(273)+params(53)/params(54)*(y(324)+y(330))+y(323)+y(329)+T(144)*(y(227)*params(231)*T(145)+y(227)*params(232)*T(145)));
    residual(103) = (log(T(146))) - (params(33)*log(T(147))+(1-params(33))*params(34)*(T(148)*log(T(149))+T(150)*log(T(151)))+(1-params(33))*params(35)*(T(148)*log(T(152))+T(150)*log(T(153)))+params(37)*(T(148)*log(T(154))+T(150)*log(T(155)))+params(36)*(T(148)*log(T(156))+T(150)*log(T(157)))+x(35));
    residual(104) = (log(T(146))) - (T(148)*log(T(158))+T(150)*log(T(159)));
    residual(105) = (y(227)) - (exp(y(352))*y(374));
    residual(106) = (y(373)) - (log(T(160)));
    residual(107) = (y(371)) - (y(314)-params(316));
    residual(108) = (y(372)) - (y(218)-params(235));
    residual(109) = (y(373)) - (params(190)*y(158)+params(191)*y(156)+params(192)*y(157)+params(193)*x(40));
    residual(110) = (y(371)) - (y(158)*params(194)+y(156)*params(195)+y(157)*params(196)+params(197)*y(137)+x(40)*params(198)+params(199)*x(42)+params(200)*x(43));
    residual(111) = (y(372)) - (y(158)*params(201)+y(156)*params(202)+y(157)*params(203)+y(137)*params(204)+x(40)*params(205)+x(42)*params(206)+params(207)*x(41)+x(43)*params(208));
    residual(112) = (y(352)) - (y(137)*params(209)+x(43)*params(210));
    residual(113) = (y(310)) - (1/y(336));
    residual(114) = (y(311)) - (y(335)/y(336));
    residual(115) = (y(239)) - (y(454)*exp(y(363))*params(6)*(1+y(222))/y(528));
    residual(116) = (y(238)) - (y(453)*params(5)*exp(y(364))*(1+y(221))*y(549)/y(527));
    residual(117) = (y(239)) - (y(454)*params(6)*exp(y(364))*(1+y(223))*y(548)/y(528));
    residual(118) = (y(338)*y(340)+y(342)) - (y(338)*(1+y(6))*y(125)/y(314)+(1+y(7))*y(127)/y(312)+y(304)*y(225)-y(228)-y(234)-y(272)*y(304)-y(292)*y(304));
    residual(119) = (y(337)*y(341)+y(335)*y(343)) - (y(337)*(1+y(8))*y(126)/y(314)+y(335)*(1+y(7))*y(128)/y(312)+y(307)*y(226)-y(229)-y(235)-y(273)*y(307)-y(293)*y(307));
    residual(120) = (y(339)) - ((-(y(340)*params(53)/params(55)+y(341)*params(54)/params(55))));
    residual(121) = (y(342)) - (y(343)*(-params(54))/params(53));
    residual(122) = (y(344)) - (y(338)*y(340)-T(141)*y(343));
    residual(123) = (y(345)) - (y(337)*y(341)+y(335)*y(343));
    residual(124) = (y(346)) - (y(339));
    residual(125) = (y(347)) - (y(344)-y(129));
    residual(126) = (y(348)) - (y(345)-y(130));
    residual(127) = (y(349)) - (y(346)-y(131));
    residual(128) = (1+y(223)) - ((1+y(218))*T(162));
    residual(129) = (1+y(221)) - ((1+y(218))*T(164));
    residual(130) = (1+y(222)) - ((1+y(216))*T(166));
    residual(131) = (y(337)) - (y(335)/y(336));
    residual(132) = (y(338)) - (1/y(336));
    residual(133) = (1) - (y(313)*y(335)/y(120)/y(312));
    residual(134) = (y(333)) - (y(313)*y(337)/y(122)/y(314));
    residual(135) = (y(334)) - (y(312)*y(338)/y(123)/y(314));
    residual(136) = (y(317)) - (y(316));
    residual(137) = (y(320)) - (y(315));
    residual(138) = (y(319)) - (y(314)*y(334));
    residual(139) = (y(318)) - (y(314)*y(333));
    residual(140) = (y(350)) - (params(64)*y(135)+x(1));
    residual(141) = (y(351)) - (params(65)*y(136)+x(2));
    residual(142) = (y(353)/(y(353)-1)) - (params(66)*y(138)/(y(138)-1)+(1-params(66))*params(25)/(params(25)-1)+x(3));
    residual(143) = (y(354)/(y(354)-1)) - (params(67)*y(139)/(y(139)-1)+(1-params(67))*params(26)/(params(26)-1)+x(4));
    residual(144) = (y(355)/(y(355)-1)) - (params(68)*y(140)/(y(140)-1)+(1-params(68))*params(27)/(params(27)-1)+x(5));
    residual(145) = (y(356)/(y(356)-1)) - (params(69)*y(141)/(y(141)-1)+(1-params(69))*params(28)/(params(28)-1)+x(6));
    residual(146) = (y(357)) - (params(70)*y(142)+x(7));
    residual(147) = (y(358)) - (params(71)*y(143)+x(8));
    residual(148) = (y(359)) - (params(72)*y(144)+x(9));
    residual(149) = (y(360)) - (params(73)*y(145)+x(10));
    residual(150) = (y(361)) - (params(74)*y(146)+x(11));
    residual(151) = (y(362)) - (params(75)*y(147)+x(12));
    residual(152) = (y(363)) - (params(76)*y(148)+x(13));
    residual(153) = (y(364)) - (params(77)*y(149)+x(14));
    residual(154) = (y(367)) - (params(78)*y(152)+x(36));
    residual(155) = (y(368)) - (params(79)*y(153)+x(37));
    residual(156) = (y(369)) - (params(80)*y(154)+x(38));
    residual(157) = (y(370)) - (params(81)*y(155)+x(39));
    residual(158) = (y(365)) - (params(82)*y(150)+T(45)*params(120)+x(17));
    residual(159) = (y(366)) - (params(83)*y(151)+T(51)*params(121)+x(18));
    residual(160) = (y(379)) - (y(225)-(y(292)+y(327)+y(272)+y(321)));
    residual(161) = (y(380)) - (y(226)-(y(293)+y(329)+y(273)+y(323)));
    residual(162) = (y(381)) - (y(228)+y(234)-y(304)*(y(321)+y(327)));
    residual(163) = (y(382)) - (y(229)+y(235)-y(307)*(y(323)+y(329)));
    residual(164) = (y(377)) - (y(225)+y(246)*y(250)*(1+y(276))/y(304));
    residual(165) = (y(378)) - (y(226)+y(247)*y(251)*(1+y(277))/y(307));
    residual(166) = (y(383)) - (log(y(225))-log(params(239)));
    residual(167) = (y(384)) - (log(y(226))-log(params(240)));
    residual(168) = (y(385)) - (log(y(227))-log(params(241)));
    residual(169) = (y(375)) - (y(225)*params(239)/params(309)/params(239)+y(246)*(1-params(239)/params(309))/params(260)-1);
    residual(170) = (y(376)) - (y(226)*params(240)/params(310)/params(240)+y(247)*(1-params(240)/params(310))/params(261)-1);
    residual(171) = (y(408)) - (log(y(288))-log(params(301)));
    residual(172) = (y(409)) - (log(y(289))-log(params(302)));
    residual(173) = (y(386)) - (log(T(167))-log(params(242)));
    residual(174) = (y(387)) - (log(T(168))-log(params(243)));
    residual(175) = (y(388)) - (log(T(169))-log(params(250)));
    residual(176) = (y(389)) - (log(T(170))-log(params(251)));
    residual(177) = (y(390)) - (y(242)-params(256));
    residual(178) = (y(391)) - (y(243)-params(257));
    residual(179) = (y(392)) - (log(T(171))-log(params(262)));
    residual(180) = (y(393)) - (log(T(172))-log(params(263)));
    residual(181) = (y(394)) - (y(315)-params(316));
    residual(182) = (y(395)) - (y(316)-params(316));
    residual(183) = (y(396)) - (y(314)-params(316));
    residual(184) = (y(412)) - (y(335)-1);
    residual(185) = (y(397)) - (y(347)/y(304)/y(225));
    residual(186) = (y(398)) - (y(348)/y(307)/y(226));
    residual(187) = (y(399)) - (y(349)/y(227));
    residual(188) = (y(400)) - (y(224)-params(238));
    residual(189) = (y(401)) - (y(218)-params(235));
    residual(190) = (y(402)) - (y(264)-params(282));
    residual(191) = (y(403)) - (y(265)-params(283));
    residual(192) = (y(404)) - (y(270)-params(288));
    residual(193) = (y(405)) - (y(271)-params(289));
    residual(194) = (y(406)) - (y(270)-y(55));
    residual(195) = (y(407)) - (y(271)-y(56));
    residual(196) = (y(410)) - ((-(y(288)-y(73)))/(y(304)*y(377)));
    residual(197) = (y(411)) - ((-(y(289)-y(74)))/(y(307)*y(378)));
    residual(198) = (y(413)) - (x(15));
    residual(199) = (y(414)) - (x(16));
    residual(200) = (y(415)) - (x(25));
    residual(201) = (y(416)) - (x(26));
    residual(202) = (y(417)) - (x(29));
    residual(203) = (y(418)) - (x(30));
    residual(204) = (y(419)) - (x(31));
    residual(205) = (y(420)) - (x(32));
    residual(206) = (y(421)) - (x(19));
    residual(207) = (y(422)) - (x(20));
    residual(208) = (y(423)) - (x(21));
    residual(209) = (y(424)) - (x(22));
    residual(210) = (y(425)) - (x(23));
    residual(211) = (y(426)) - (x(24));
    residual(212) = (y(427)) - (x(27));
    residual(213) = (y(428)) - (x(28));
    residual(214) = (y(429)) - (x(33));
    residual(215) = (y(430)) - (x(34));
end
